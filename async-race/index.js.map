{"version":3,"file":"index.js","mappings":"mBAAO,MAAMA,EAAW,CACpB,QACA,aACA,eACA,OACA,UACA,MACA,UACA,QACA,WACA,YACA,WACA,UACA,SACA,QACA,UACA,OACA,OACA,QACA,SACA,UACA,SACA,OACA,OACA,cACA,aACA,QACA,WACA,UACA,QACA,UACA,gBACA,SACA,OACA,SACA,UACA,UACA,cACA,cACA,OACA,QACA,QACA,SACA,SACA,QACA,SACA,aACA,SAESC,EAAW,CACpB,UACA,MACA,aACA,UACA,gBACA,KACA,KACA,KACA,OACA,KACA,KACA,KACA,cACA,cACA,SACA,OACA,UACA,YACA,gBACA,KACA,KACA,sBACA,gBACA,UACA,UACA,SACA,cACA,QACA,SACA,UACA,UACA,KACA,iBACA,YACA,OACA,QACA,QACA,OACA,OACA,gBACA,UACA,QACA,OACA,WACA,QACA,OACA,SACA,SACA,UACA,QACA,iBACA,YACA,SACA,SACA,OACA,MACA,QACA,WCjGG,MAAMC,EAAgB,CAACC,EAAQC,EAAWC,KAC7C,MAAMC,EAAQH,EAAOI,YAAYC,SAASN,cAAcE,IAIxD,OAHIC,GACAI,OAAOC,OAAOJ,EAAOD,GAElBC,CAAK,EAEHK,EAAiBC,GAAQC,KAAKC,MAAMD,KAAKE,SAAWH,GAyBpDI,EAAoBC,IACb,KACRA,GAAgBC,QAAQ,GAEvBC,EAAcC,IACvBA,EAAIC,UAAUC,IAAI,gBAClBF,EAAIG,UAAW,CAAI,EAEVC,EAAaJ,IACtBA,EAAIC,UAAUI,OAAO,gBACrBL,EAAIG,UAAW,CAAK,ECpDxB,IAAI,EAAwC,SAAUG,EAASC,EAAYC,EAAGC,GAE1E,OAAO,IAAKD,IAAMA,EAAIE,WAAU,SAAUC,EAASC,GAC/C,SAASC,EAAUC,GAAS,IAAMC,EAAKN,EAAUO,KAAKF,GAAS,CAAE,MAAOG,GAAKL,EAAOK,EAAI,CAAE,CAC1F,SAASC,EAASJ,GAAS,IAAMC,EAAKN,EAAiB,MAAEK,GAAS,CAAE,MAAOG,GAAKL,EAAOK,EAAI,CAAE,CAC7F,SAASF,EAAKI,GAJlB,IAAeL,EAIaK,EAAOC,KAAOT,EAA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","sources":["webpack://async-race/./src/components/model/carModels.ts","webpack://async-race/./src/components/model/utils.ts","webpack://async-race/./src/components/model/api.ts","webpack://async-race/./src/components/view/car/animation.ts","webpack://async-race/./src/components/view/car/car.ts","webpack://async-race/./src/components/view/winners/winnersView.ts","webpack://async-race/./src/components/controller/state.ts","webpack://async-race/./src/components/view/garage/garageView.ts","webpack://async-race/./src/components/view/appView.ts","webpack://async-race/./src/components/controller/app.ts","webpack://async-race/./src/index.ts"],"sourcesContent":["export const carBrand = [\n    'Acura',\n    'Alfa Romeo',\n    'Aston Martin',\n    'Audi',\n    'Bentley',\n    'BMW',\n    'Bugatti',\n    'Buick',\n    'Cadillac',\n    'Chevrolet',\n    'Chrysler',\n    'Citroen',\n    'Daewoo',\n    'Dodge',\n    'Ferrari',\n    'Fiat',\n    'Ford',\n    'Honda',\n    'Hummer',\n    'Hyundai',\n    'Jaguar',\n    'Jeep',\n    'Lada',\n    'Lamborghini',\n    'Land Rover',\n    'Lexus',\n    'Maserati',\n    'Maybach',\n    'Mazda',\n    'MCLaren',\n    'Mercedes-Benz',\n    'Nissan',\n    'Opel',\n    'Pagani',\n    'Peugeot',\n    'Porsche',\n    'Range Rover',\n    'Rolls-Royce',\n    'Saab',\n    'Skoda',\n    'smart',\n    'Subaru',\n    'Suzuki',\n    'Tesla',\n    'Toyota',\n    'Volkswagen',\n    'Volvo',\n];\nexport const carModel = [\n    'Durango',\n    'Ram',\n    'Challenger',\n    'Charger',\n    'Grand Caravan',\n    'X7',\n    'X5',\n    'X3',\n    'X6 M',\n    'X6',\n    'X1',\n    'X4',\n    'C3 Aircross',\n    'C5 Aircross',\n    'Duster',\n    'CR-V',\n    'Corolla',\n    'C4 Cactus',\n    'DS3 Crossback',\n    'C1',\n    'C3',\n    'Berlingo Multispace',\n    'DS4 Crossback',\n    'UX 250h',\n    'NX 300h',\n    'LC 500',\n    'RX 350/200t',\n    'Rapid',\n    'Largus',\n    'IS 200t',\n    'LS 500h',\n    'RX',\n    'ES 200/250/350',\n    'Hatchback',\n    'CX-5',\n    'Sedan',\n    'CX-30',\n    'CX-9',\n    'CX-3',\n    'MX-5 Roadster',\n    'Phantom',\n    'Camry',\n    'Polo',\n    'Cullinan',\n    'Ghost',\n    'Dawn',\n    'Duster',\n    'Arkana',\n    'Sandero',\n    'Logan',\n    'Trafic Fourgon',\n    'Logan MCV',\n    'Captur',\n    'Kadjar',\n    'RAV4',\n    'Rio',\n    'Creta',\n    'Solaris',\n];\n","var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nimport { getCar } from './api';\nexport const createElement = (parent, childType, params) => {\n    const child = parent.appendChild(document.createElement(childType));\n    if (params) {\n        Object.assign(child, params);\n    }\n    return child;\n};\nexport const getRandomName = (num) => Math.floor(Math.random() * num);\nexport const getRandomColor = () => `#${Math.floor(Math.random() * 16777215).toString(16)}`; // idea from from css-tricks\nexport const generateCarName = (brands, models) => {\n    const brand = brands[getRandomName(brands.length)];\n    const model = models[getRandomName(brands.length)];\n    const name = `${brand} ${model}`;\n    return name;\n};\n// winner's popup\nexport const showPopup = (id, time) => __awaiter(void 0, void 0, void 0, function* () {\n    const car = yield getCar(id);\n    //const winner = await getWinner(id);\n    const text = `<h2 class=\"modal-text\">winner is: ${car.name} in ${convertToSeconds(time)} seconds!</h2>`;\n    const overlay = createElement(document.body, 'div', {\n        className: 'overlay',\n    });\n    createElement(overlay, 'div', {\n        className: 'modal',\n        innerHTML: text,\n    });\n    overlay.addEventListener('click', () => {\n        overlay.remove();\n    });\n});\n// convert to sec\nexport const convertToSeconds = (time) => {\n    const SECONDS = 0.001;\n    return (time * SECONDS).toFixed(2);\n};\nexport const disableBtn = (btn) => {\n    btn.classList.add('btn-disabled');\n    btn.disabled = true;\n};\nexport const enableBtn = (btn) => {\n    btn.classList.remove('btn-disabled');\n    btn.disabled = false;\n};\nexport const sortAsc = (a, b) => a - b;\nexport const sortDesc = (a, b) => b - a;\n","var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nimport { carBrand, carModel } from './carModels';\nimport { generateCarName, getRandomColor } from './utils';\nconst baseUrl = 'http://localhost:3000';\nconst path = {\n    garage: '/garage',\n    engine: '/engine',\n    winners: '/winners',\n};\n// common types and constants\nexport const CARS_LIMIT = 7;\nexport const WINNERS_LIMIT = 10;\n// car\nexport const getCar = (id) => __awaiter(void 0, void 0, void 0, function* () {\n    const response = yield fetch(`${baseUrl}${path.garage}/${id}`);\n    const item = yield response.json();\n    return item;\n});\nexport const getCars = (page = 1, limit = CARS_LIMIT) => __awaiter(void 0, void 0, void 0, function* () {\n    const response = yield fetch(`${baseUrl}${path.garage}?_page=${page}&_limit=${limit}`);\n    const cars = yield response.json();\n    const total = Number(response.headers.get('X-Total-Count'));\n    return [cars, total];\n});\nexport const addNewCar = (content) => __awaiter(void 0, void 0, void 0, function* () {\n    const response = yield fetch(`${baseUrl}${path.garage}`, {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify(content),\n    });\n    const result = yield response.json();\n    return result;\n});\nexport const updateApiCar = (id, content) => __awaiter(void 0, void 0, void 0, function* () {\n    const response = yield fetch(`${baseUrl}${path.garage}/${id}`, {\n        method: 'PUT',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify(content),\n    });\n    const result = yield response.json();\n    return result;\n});\nexport const deleteApiCar = (id) => __awaiter(void 0, void 0, void 0, function* () {\n    const response = yield fetch(`${baseUrl}${path.garage}/${id}`, {\n        method: 'DELETE',\n    });\n});\n// winners\nexport const getWinner = (id) => __awaiter(void 0, void 0, void 0, function* () {\n    const response = yield fetch(`${baseUrl}${path.winners}/${id}`);\n    const item = yield response.json();\n    return item;\n});\nexport var Sort;\n(function (Sort) {\n    Sort[\"ID\"] = \"id\";\n    Sort[\"WINS\"] = \"wins\";\n    Sort[\"TIME\"] = \"time\";\n})(Sort || (Sort = {}));\nexport var Order;\n(function (Order) {\n    Order[\"ASC\"] = \"ASC\";\n    Order[\"DESC\"] = \"DESC\";\n})(Order || (Order = {}));\nexport const getWinners = (page = 1, limit = WINNERS_LIMIT, sortBy = Sort.WINS, orderBy = Order.ASC) => __awaiter(void 0, void 0, void 0, function* () {\n    const response = yield fetch(`${baseUrl}${path.winners}?_page=${page}&_limit=${limit}&_order=${sortBy}&_order=${orderBy}`);\n    const winners = yield response.json();\n    const total = Number(response.headers.get('X-Total-Count'));\n    return [winners, total];\n});\nexport const createApiWinner = (content) => __awaiter(void 0, void 0, void 0, function* () {\n    const response = yield fetch(`${baseUrl}${path.winners}`, {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify(content),\n    });\n    const result = yield response.json();\n    return result;\n});\nexport const updateApiWinner = (id, content) => __awaiter(void 0, void 0, void 0, function* () {\n    const response = yield fetch(`${baseUrl}${path.winners}/${id}`, {\n        method: 'PUT',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify(content),\n    });\n    const result = yield response.json();\n    return result;\n});\nexport const deleteApiWinner = (id) => __awaiter(void 0, void 0, void 0, function* () {\n    const response = yield fetch(`${baseUrl}${path.winners}/${id}`, {\n        method: 'DELETE',\n    });\n    return response;\n});\n// engine\nexport var EngineState;\n(function (EngineState) {\n    EngineState[\"START\"] = \"started\";\n    EngineState[\"STOP\"] = \"stopped\";\n    EngineState[\"DRIVE\"] = \"drive\";\n})(EngineState || (EngineState = {}));\nexport const startStopApiEngine = (id, status) => __awaiter(void 0, void 0, void 0, function* () {\n    const response = yield fetch(`${baseUrl}${path.engine}?id=${id}&status=${status}`, {\n        method: 'PATCH',\n    });\n    const driveApiData = yield response.json();\n    return driveApiData;\n});\nexport const driveApiCar = (id, status = EngineState.DRIVE) => __awaiter(void 0, void 0, void 0, function* () {\n    const response = yield fetch(`${baseUrl}${path.engine}?id=${id}&status=${status}`, {\n        method: 'PATCH',\n    }).catch();\n    return response.ok ? response.json() : response.status;\n});\nexport const generateNewCars = () => __awaiter(void 0, void 0, void 0, function* () {\n    const carsCount = 100;\n    for (let i = 0; i < carsCount; i += 1) {\n        addNewCar({\n            name: generateCarName(carBrand, carModel),\n            color: getRandomColor(),\n        });\n    }\n});\n","var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nimport { EngineState, startStopApiEngine } from '../../model/api';\nexport const animationState = {};\nexport const animateCar = (car, animationTime) => {\n    if (car instanceof HTMLElement) {\n        const element = car.querySelector('.car_image');\n        const CTRL_BTN_WIDTH = 70;\n        let start;\n        let previousTimeStamp;\n        let done = false;\n        const distance = car.clientWidth - element.clientWidth - CTRL_BTN_WIDTH;\n        function step(timestamp) {\n            // from MDN\n            if (!start) {\n                start = timestamp;\n            }\n            if (animationTime) {\n                const runtime = timestamp - start;\n                let progress = runtime / animationTime;\n                if (previousTimeStamp !== timestamp) {\n                    progress = Math.min(progress, 1);\n                    element.style.transform = `translateX(${progress * distance}px)`;\n                    if (progress === distance)\n                        done = true;\n                }\n                if (runtime < animationTime) {\n                    previousTimeStamp = timestamp;\n                }\n                if (!done) {\n                    /// window.requestAnimationFrame(step);\n                    animationState.animationID = window.requestAnimationFrame(step);\n                }\n            }\n        }\n        window.requestAnimationFrame(step);\n        return animationState;\n    }\n};\nexport const stopCarAnimation = (id, car) => __awaiter(void 0, void 0, void 0, function* () {\n    yield startStopApiEngine(id, EngineState.STOP);\n    window.cancelAnimationFrame(animationState.animationID);\n});\n","var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar _a;\nimport { EngineState, createApiWinner, driveApiCar, getCar, getWinner, getWinners, startStopApiEngine, updateApiWinner, } from '../../model/api';\nimport { IMAGE_PART01, IMAGE_PART02, IMAGE_PART03 } from '../../model/carImage';\nimport { disableBtn, enableBtn } from '../../model/utils';\nimport { animateCar, stopCarAnimation, animationState } from './animation';\nclass Car {\n    static renderCar(id) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const carFromServer = yield getCar(id);\n            const car = `<div class=\"car\">${carFromServer.name}</div>`;\n            return car;\n        });\n    }\n    static controlCar() {\n        const renderedCars = document.querySelector('.garage-page');\n        const btnA = document.querySelector('.car_A-btn');\n        const btnB = document.querySelector('.car_B-btn');\n        if (renderedCars) {\n            renderedCars.addEventListener('click', (e) => __awaiter(this, void 0, void 0, function* () {\n                if (e.target instanceof Element && e.target.classList.contains('car_A-btn')) {\n                    const car = e.target.closest('.car');\n                    const btnA = car.querySelector('.car_A-btn');\n                    const btnB = car.querySelector('.car_B-btn');\n                    disableBtn(btnA);\n                    enableBtn(btnB);\n                    const carId = Number(car.dataset.id);\n                    const animationTime = yield this.startCar(carId);\n                    animateCar(car, animationTime);\n                    const driveAnswer = yield driveApiCar(carId);\n                    if (driveAnswer === 500) {\n                        stopCarAnimation(carId, car);\n                        disableBtn(btnB);\n                        enableBtn(btnA);\n                    }\n                }\n                else if (e.target instanceof Element && e.target.classList.contains('car_B-btn')) {\n                    const car = e.target.closest('.car');\n                    const carId = Number(car.dataset.id);\n                    const btnA = car.querySelector('.car_A-btn');\n                    const btnB = car.querySelector('.car_B-btn');\n                    this.resetCar(carId, car);\n                    disableBtn(btnB);\n                    enableBtn(btnA);\n                }\n            }));\n        }\n    }\n    static addWinner(id, time) {\n        return __awaiter(this, void 0, void 0, function* () {\n            let currentTime = Number(time);\n            console.log('time ' + currentTime);\n            const [winners, total] = yield getWinners();\n            const isWinner = (yield winners).some((winner) => winner.id === id);\n            if (!isWinner) {\n                yield createApiWinner({ id, wins: 1, time: currentTime });\n            }\n            else {\n                const winner = yield getWinner(id);\n                winner.wins += 1;\n                if (currentTime < winner.time) {\n                    winner.time = currentTime;\n                }\n                console.log(winner);\n                yield updateApiWinner(id, { wins: winner.wins, time: winner.time });\n            }\n        });\n    }\n}\n_a = Car;\nCar.renderCarImage = (color) => `${IMAGE_PART01}\n    ${color}${IMAGE_PART02}${IMAGE_PART03}`;\nCar.startCar = (id) => __awaiter(void 0, void 0, void 0, function* () {\n    const carDriveData = yield startStopApiEngine(id, EngineState.START);\n    const { velocity, distance } = JSON.parse(JSON.stringify(carDriveData));\n    const animationTime = distance / velocity;\n    return animationTime;\n});\nCar.raceCar = (id) => __awaiter(void 0, void 0, void 0, function* () {\n    const animationTime = yield _a.startCar(id);\n    const car = document.querySelector(`[data-id=\"${id}\"]`);\n    animateCar(car, animationTime);\n    const driveAnswer = yield driveApiCar(id);\n    if (driveAnswer === 500) {\n        stopCarAnimation(id, car);\n    }\n    return { id: id, time: animationTime };\n});\nCar.resetCar = (id, car) => __awaiter(void 0, void 0, void 0, function* () {\n    yield startStopApiEngine(id, EngineState.STOP);\n    if (car instanceof HTMLElement) {\n        const element = car.querySelector('.car_image');\n        window.cancelAnimationFrame(animationState.animationID);\n        element.style.transform = 'translateX(0px)';\n    }\n});\nexport default Car;\n","var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nimport { WINNERS_LIMIT, getCar, getWinners } from '../../model/api';\nimport { convertToSeconds, disableBtn, enableBtn } from '../../model/utils';\nimport Car from '../car/car';\nclass WinnersView {\n    static createView(page) {\n        return __awaiter(this, void 0, void 0, function* () {\n            let content = '';\n            const [winnersFromServer, total] = yield getWinners(page);\n            const winnersList = yield winnersFromServer;\n            let counter = 1;\n            yield Promise.all(winnersList.map((item) => __awaiter(this, void 0, void 0, function* () {\n                const winner = yield getCar(item.id);\n                content += `<tr>\n        <td>${counter}</td>\n        <td>${Car.renderCarImage(winner.color)}</td>\n        <td>${winner.name}</td>\n        <td>${item.wins}</td>\n        <td>${convertToSeconds(item.time)}</td>\n      </tr>`;\n                counter += 1;\n                return content;\n            })));\n            return `<h2>WINNERS</h2>\n    <h3 class=\"page-number\" data-winpage=\"${page}\">Page: (${page})</h3>\n    ${WinnersView.createTableHeader()}\n    ${content}\n    </table>`;\n        });\n    }\n    static reloadWinners(winnersList, page) {\n        return __awaiter(this, void 0, void 0, function* () {\n            let content = '';\n            let counter = 1;\n            yield Promise.all(winnersList.map((item) => __awaiter(this, void 0, void 0, function* () {\n                const winner = yield getCar(item.id);\n                content += `<tr>\n        <td>${counter}</td>\n        <td>${Car.renderCarImage(winner.color)}</td>\n        <td>${winner.name}</td>\n        <td>${item.wins}</td>\n        <td>${convertToSeconds(item.time)}</td>\n      </tr>`;\n                counter += 1;\n                return content;\n            })));\n            return `<h2>WINNERS</h2>\n    <h3 class=\"page-number\" data-winpage=\"${page}\">Page: (${page})</h3>\n    ${WinnersView.createTableHeader()}\n    ${content}\n    </table>`;\n        });\n    }\n    static createPagination() {\n        return `<div class=\"pagination\">\n    <button class=\"btn prev\">previous</button><button class=\"btn next\">next</button></div>`;\n    }\n    static changePage(pageNumber) {\n        const winnersPage = document.querySelector('.winners-page');\n        const winnersContent = document.querySelector('.winners-content');\n        const prevBtn = winnersPage.querySelector('.prev');\n        const nextBtn = winnersPage.querySelector('.next');\n        const page = winnersPage.querySelector('.page-number');\n        let currentPageNumber = Number(page.dataset.winpage);\n        if (currentPageNumber === 1)\n            disableBtn(prevBtn);\n        prevBtn.addEventListener('click', () => __awaiter(this, void 0, void 0, function* () {\n            currentPageNumber -= 1;\n            if (currentPageNumber < 1) {\n                currentPageNumber = 1;\n                disableBtn(prevBtn);\n            }\n            enableBtn(nextBtn);\n            const content = yield this.createView(currentPageNumber);\n            winnersContent.innerHTML = '';\n            winnersContent.innerHTML = content;\n        }));\n        nextBtn.addEventListener('click', () => __awaiter(this, void 0, void 0, function* () {\n            const [winners, total] = yield getWinners();\n            const pages = Math.ceil(total / WINNERS_LIMIT);\n            currentPageNumber += 1;\n            enableBtn(prevBtn);\n            if (currentPageNumber > pages) {\n                currentPageNumber = pages;\n                disableBtn(nextBtn);\n            }\n            const content = yield this.createView(currentPageNumber);\n            winnersContent.innerHTML = '';\n            winnersContent.innerHTML = content;\n        }));\n    }\n    static sortWinsAsc(winnersList, page, winnersContent) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const winnersSorted = winnersList.sort((a, b) => (+a.wins > +b.wins ? 1 : -1));\n            winnersContent.innerHTML = '';\n            winnersContent.innerHTML = yield this.reloadWinners(winnersList, page);\n        });\n    }\n    static sortTimeAsc(winnersList, page, winnersContent) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const winnersSorted = winnersList.sort((a, b) => (+a.time > +b.time ? 1 : -1));\n            winnersContent.innerHTML = '';\n            winnersContent.innerHTML = yield this.reloadWinners(winnersList, page);\n        });\n    }\n    static sortBy() {\n        return __awaiter(this, void 0, void 0, function* () {\n            const winnersContent = document.querySelector('.winners-content');\n            const [winnersFromServer, total] = yield getWinners();\n            const winnersList = yield winnersFromServer;\n            const winsBtn = document.querySelector('.wins');\n            const timeBtn = document.querySelector('.time');\n            const winnersPage = document.querySelector('.winners-page');\n            const page = winnersPage.querySelector('.page-number');\n            let currentPageNumber = Number(page.dataset.winpage);\n            if (winsBtn instanceof HTMLElement) {\n                winsBtn.addEventListener('click', (e) => __awaiter(this, void 0, void 0, function* () {\n                    WinnersView.sortWinsAsc(winnersList, currentPageNumber, winnersContent);\n                }));\n            }\n            if (timeBtn instanceof HTMLElement) {\n                timeBtn.addEventListener('click', (e) => __awaiter(this, void 0, void 0, function* () {\n                    WinnersView.sortTimeAsc(winnersList, currentPageNumber, winnersContent);\n                }));\n            }\n        });\n    }\n}\nWinnersView.createTableHeader = () => `<table>\n  <tr>\n  <th>N</th>\n  <th>Image of the car</th>\n  <th>Name of the car</th>\n  <th class='wins'>Wins number</th>\n  <th class='time'>Best time in seconds</th>\n</tr>`;\nexport default WinnersView;\n","var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nimport GarageView from '../view/garage/garageView';\nimport WinnersView from '../view/winners/winnersView';\nexport const state = {\n    currentGaragePage: 1,\n    currentWinnersPage: 1,\n};\nexport const updateState = (currentGaragePage, currentWinnersPage) => {\n    state.currentGaragePage = currentGaragePage;\n    state.currentWinnersPage = currentWinnersPage;\n};\nexport const reloadApp = (state) => __awaiter(void 0, void 0, void 0, function* () {\n    const garageList = document.querySelector('.garage-list');\n    garageList.innerHTML = '';\n    garageList.innerHTML = (yield GarageView.createView(state.currentGaragePage)).join('');\n    const winnersPage = document.querySelector('.winners-page');\n    winnersPage.innerHTML = '';\n    winnersPage.innerHTML = yield WinnersView.createView(state.currentWinnersPage);\n});\n","var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nimport { reloadApp, state, updateState } from '../../controller/state';\nimport { CARS_LIMIT, addNewCar, deleteApiCar, deleteApiWinner, generateNewCars, getCar, getCars, getWinners, updateApiCar, } from '../../model/api';\nimport { disableBtn, enableBtn, showPopup } from '../../model/utils';\nimport Car from '../car/car';\nexport default class GarageView {\n    constructor() {\n        this.car = new Car();\n    }\n    static createMenu() {\n        return `<div class=\"menu\">\n    <div class=\"form\">\n      <form action=\"\" id=\"create-car\">\n        <input type=\"text\" id=\"create-car-name\" name=\"car-name\"><br>\n        <input type=\"color\" id=\"create-car-color\" name=\"car-color\" value=\"#ffffff\">\n        <input type=\"submit\" value=\"create\" class=\"btn create-btn\">\n      </form>\n    </div>\n    <div class=\"form\">\n      <form action=\"\" id=\"update-car\">\n        <input type=\"text\" id=\"update-car-name\" name=\"car-name\"><br>\n        <input type=\"color\" id=\"update-car-color\" name=\"car-color\" value=\"#ffffff\">\n        <input type=\"submit\" value=\"update\" class=\"btn update-btn btn-disabled\" disabled>\n      </form>\n    </div>\n    <div class=\"buttons\">\n      <button class=\"btn race-btn\">race</button>\n      <button class=\"btn reset-btn btn-disabled\" disabled>reset</button>\n      <button class=\"btn generate-btn\">generate cars</button>\n    </div>\n  </div>`;\n    }\n    static reloadGarage() {\n        return __awaiter(this, void 0, void 0, function* () {\n            const page = document.querySelector('.page-number');\n            let currentPageNumber = Number(page.dataset.page);\n            updateState(currentPageNumber);\n            reloadApp(state);\n        });\n    }\n    static createCar() {\n        return __awaiter(this, void 0, void 0, function* () {\n            const createForm = document.getElementById('create-car');\n            const inputName = document.getElementById('create-car-name');\n            const inputColor = document.getElementById('create-car-color');\n            if (createForm instanceof Element) {\n                createForm.addEventListener('submit', (e) => __awaiter(this, void 0, void 0, function* () {\n                    e.preventDefault();\n                    const newCar = yield addNewCar({\n                        name: inputName.value,\n                        color: inputColor.value,\n                    });\n                    GarageView.reloadGarage();\n                }));\n            }\n        });\n    }\n    static removeCar() {\n        return __awaiter(this, void 0, void 0, function* () {\n            const renderedCars = document.querySelector('.garage-page');\n            if (renderedCars) {\n                renderedCars.addEventListener('click', (e) => __awaiter(this, void 0, void 0, function* () {\n                    if (e.target instanceof Element && e.target.classList.contains('car_remove-btn')) {\n                        const car = e.target.closest('.car');\n                        const carId = Number(car.dataset.id);\n                        deleteApiCar(carId);\n                        const [winners, total] = yield getWinners();\n                        const isWinner = (yield winners).some((winner) => winner.id === carId);\n                        if (isWinner)\n                            deleteApiWinner(carId);\n                        GarageView.reloadGarage();\n                    }\n                }));\n            }\n        });\n    }\n    static updateCar() {\n        const renderedCars = document.querySelector('.garage-page');\n        const updateForm = document.getElementById('update-car');\n        let apiCar;\n        const inputName = document.getElementById('update-car-name');\n        const inputColor = document.getElementById('update-car-color');\n        const updateBtn = document.querySelector('.update-btn');\n        if (renderedCars) {\n            renderedCars.addEventListener('click', (e) => __awaiter(this, void 0, void 0, function* () {\n                if (e.target instanceof Element && e.target.classList.contains('car_select-btn')) {\n                    const car = e.target.closest('.car');\n                    const carId = Number(car.dataset.id);\n                    apiCar = yield getCar(carId);\n                    inputName.value = apiCar.name;\n                    inputColor.value = apiCar.color;\n                    enableBtn(updateBtn);\n                }\n            }));\n        }\n        if (updateForm instanceof Element) {\n            updateForm.addEventListener('submit', (e) => __awaiter(this, void 0, void 0, function* () {\n                e.preventDefault();\n                updateApiCar(apiCar.id, {\n                    name: inputName.value,\n                    color: inputColor.value,\n                });\n                disableBtn(updateBtn);\n                GarageView.reloadGarage();\n            }));\n        }\n    }\n    static generateCars() {\n        return __awaiter(this, void 0, void 0, function* () {\n            const generateBtn = document.querySelector('.generate-btn');\n            if (generateBtn instanceof HTMLElement) {\n                generateBtn.addEventListener('click', () => __awaiter(this, void 0, void 0, function* () {\n                    const page = document.querySelector('.page-number');\n                    let currentPageNumber = Number(page.dataset.page);\n                    yield generateNewCars();\n                    const [cars, total] = yield getCars(currentPageNumber);\n                    GarageView.reloadGarage();\n                }));\n            }\n        });\n    }\n    static raceCars() {\n        return __awaiter(this, void 0, void 0, function* () {\n            const raceBtn = document.querySelector('.race-btn');\n            const resetBtn = document.querySelector('.reset-btn');\n            raceBtn.addEventListener('click', () => {\n                const renderedCars = document.querySelectorAll('.car');\n                disableBtn(raceBtn);\n                disableBtn(resetBtn);\n                const carsToRace = Array.from(renderedCars).map((car) => Car.raceCar(Number(car.getAttribute('data-id'))));\n                Promise.race(carsToRace)\n                    .then((winner) => {\n                    Car.addWinner(winner.id, winner.time);\n                    showPopup(winner.id, winner.time);\n                })\n                    .then(() => {\n                    enableBtn(resetBtn);\n                });\n            });\n        });\n    }\n    static resetCars() {\n        return __awaiter(this, void 0, void 0, function* () {\n            const resetBtn = document.querySelector('.reset-btn');\n            const raceBtn = document.querySelector('.race-btn');\n            resetBtn.addEventListener('click', () => {\n                const renderedCars = document.querySelectorAll('.car');\n                const carsToReset = Array.from(renderedCars).map((car) => Car.resetCar(Number(car.getAttribute('data-id')), car));\n                Promise.all(carsToReset).then(() => {\n                    enableBtn(raceBtn);\n                    disableBtn(resetBtn);\n                });\n                GarageView.reloadGarage();\n            });\n        });\n    }\n    static createGarageTitle(page, totalCars) {\n        return `<div class=\"garage-title\"><h2>Garage: (${totalCars})</h2></div>\n    <div class=\"garage-page\"><h3 class=\"page-number\" data-page=\"${page}\">Page: (${page})</h3></div>`;\n    }\n    static createView(page) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const [carsFromServer, totalCars] = yield getCars(page, CARS_LIMIT);\n            let renderedCars = '';\n            const totalCountString = GarageView.createGarageTitle(page, totalCars);\n            (yield carsFromServer).forEach((car) => {\n                const carImage = Car.renderCarImage(car.color);\n                renderedCars += `\n      <div class=\"car\" data-id=\"${car.id}\">\n      <div class=\"car_header\">\n      <button class=\"btn car_select-btn\">select</button>\n      <button class=\"btn car_remove-btn\">remove</button>\n      <div class=\"car_name\">${car.name}</div>\n      </div>\n      <div class=\"car_track\">\n      <button class=\"btn car_A-btn\">A</button>\n      <button class=\"btn car_B-btn btn-disabled\" disabled>B</button>\n        <div class=\"car_image\">${carImage}</div>\n        <div class=\"car_flag\"><img src='../../../assets/flag.svg' /></div>\n        </div>\n        <hr>\n        </div>`;\n            });\n            return [totalCountString, renderedCars];\n        });\n    }\n    static createPagination() {\n        return `<div class=\"pagination\">\n    <button class=\"btn prev\">previous</button><button class=\"btn next\">next</button></div>`;\n    }\n    static changePage(pageNumber) {\n        const garageList = document.querySelector('.garage-list');\n        const prevBtn = document.querySelector('.prev');\n        const nextBtn = document.querySelector('.next');\n        const page = document.querySelector('.page-number');\n        let currentPageNumber = Number(page.dataset.page);\n        if (currentPageNumber === 1)\n            disableBtn(prevBtn);\n        prevBtn.addEventListener('click', () => __awaiter(this, void 0, void 0, function* () {\n            currentPageNumber -= 1;\n            if (currentPageNumber < 1) {\n                currentPageNumber = 1;\n                disableBtn(prevBtn);\n            }\n            enableBtn(nextBtn);\n            const content = (yield GarageView.createView(currentPageNumber)).join('');\n            garageList.innerHTML = '';\n            garageList.innerHTML = content;\n        }));\n        nextBtn.addEventListener('click', () => __awaiter(this, void 0, void 0, function* () {\n            const [cars, total] = yield getCars();\n            const pages = Math.ceil(total / CARS_LIMIT);\n            currentPageNumber += 1;\n            enableBtn(prevBtn);\n            if (currentPageNumber > pages) {\n                currentPageNumber = pages;\n                disableBtn(nextBtn);\n            }\n            const content = (yield GarageView.createView(currentPageNumber)).join('');\n            garageList.innerHTML = '';\n            garageList.innerHTML = content;\n        }));\n    }\n}\n","var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nimport GarageView from './garage/garageView';\nimport { createElement } from '../model/utils';\nimport WinnersView from './winners/winnersView';\nimport Car from './car/car';\nexport default class AppView {\n    constructor() {\n        this.car = new Car();\n    }\n    static renderApp() {\n        return __awaiter(this, void 0, void 0, function* () {\n            const FIRST_PAGE = 1;\n            const container = createElement(document.body, 'div', {\n                className: 'container',\n            });\n            const btnRow = createElement(container, 'div', {\n                className: 'buttons-row',\n            });\n            createElement(btnRow, 'button', {\n                className: 'btn',\n                id: 'garage',\n                textContent: 'to garage',\n            });\n            createElement(btnRow, 'button', {\n                className: 'btn',\n                id: 'winners',\n                textContent: 'to winners',\n            });\n            const garagePage = createElement(container, 'div', {\n                className: 'garage-page',\n                innerHTML: GarageView.createMenu(),\n            });\n            const winnersPage = createElement(container, 'div', {\n                className: 'winners-page hide',\n            });\n            const winnersContent = createElement(winnersPage, 'div', {\n                className: 'winners-content',\n                innerHTML: yield WinnersView.createView(FIRST_PAGE),\n            });\n            winnersPage.innerHTML += WinnersView.createPagination();\n            btnRow.addEventListener('click', (e) => {\n                if (e.target instanceof Element) {\n                    if (e.target.id === 'garage') {\n                        winnersPage.classList.add('hide');\n                        garagePage.classList.remove('hide');\n                    }\n                    else if (e.target.id === 'winners') {\n                        winnersPage.classList.remove('hide');\n                        garagePage.classList.add('hide');\n                    }\n                }\n            });\n            const garageList = createElement(garagePage, 'div', {\n                className: 'garage-list',\n                innerHTML: (yield GarageView.createView(FIRST_PAGE)).join(''),\n            });\n            garagePage.innerHTML += GarageView.createPagination();\n            GarageView.createCar();\n            GarageView.removeCar();\n            GarageView.updateCar();\n            GarageView.generateCars();\n            Car.controlCar();\n            GarageView.raceCars();\n            GarageView.resetCars();\n            GarageView.changePage();\n            WinnersView.changePage();\n            WinnersView.sortBy();\n        });\n    }\n}\n","import { CARS_LIMIT, getCars } from '../model/api';\nimport AppView from '../view/appView';\nexport default class App {\n    static start() {\n        AppView.renderApp();\n        getCars(1, CARS_LIMIT);\n    }\n}\n","import './components/view/scss/main.scss';\nimport App from './components/controller/app';\n// const app: App = new App();\nApp.start();\n"],"names":["carBrand","carModel","createElement","parent","childType","params","child","appendChild","document","Object","assign","getRandomName","num","Math","floor","random","convertToSeconds","time","toFixed","disableBtn","btn","classList","add","disabled","enableBtn","remove","thisArg","_arguments","P","generator","Promise","resolve","reject","fulfilled","value","step","next","e","rejected","result","done","then","apply","baseUrl","path","getCar","id","response","fetch","json","getCars","page","limit","Number","headers","get","addNewCar","content","method","body","JSON","stringify","Sort","Order","getWinners","sortBy","WINS","orderBy","ASC","EngineState","startStopApiEngine","status","driveApiCar","DRIVE","catch","ok","animationState","animateCar","car","animationTime","HTMLElement","element","querySelector","CTRL_BTN_WIDTH","start","previousTimeStamp","distance","clientWidth","timestamp","runtime","progress","min","style","transform","animationID","window","requestAnimationFrame","stopCarAnimation","STOP","cancelAnimationFrame","_a","Car","static","this","name","renderedCars","addEventListener","target","Element","contains","closest","btnA","btnB","carId","dataset","startCar","resetCar","currentTime","console","log","winners","total","some","winner","getWinner","wins","updateApiWinner","renderCarImage","color","carDriveData","START","velocity","parse","raceCar","WinnersView","winnersFromServer","winnersList","counter","all","map","item","createTableHeader","pageNumber","winnersPage","winnersContent","prevBtn","nextBtn","currentPageNumber","winpage","createView","innerHTML","pages","ceil","sort","a","b","reloadWinners","winsBtn","timeBtn","sortWinsAsc","sortTimeAsc","state","currentGaragePage","currentWinnersPage","GarageView","constructor","garageList","join","reloadApp","createForm","getElementById","inputName","inputColor","preventDefault","reloadGarage","deleteApiWinner","updateForm","apiCar","updateBtn","generateBtn","i","brands","models","length","toString","cars","raceBtn","resetBtn","querySelectorAll","carsToRace","Array","from","getAttribute","race","addWinner","text","overlay","className","carsToReset","totalCars","carsFromServer","totalCountString","createGarageTitle","forEach","carImage","AppView","container","btnRow","textContent","garagePage","createMenu","createPagination","createCar","removeCar","updateCar","generateCars","controlCar","raceCars","resetCars","changePage","renderApp"],"sourceRoot":""}